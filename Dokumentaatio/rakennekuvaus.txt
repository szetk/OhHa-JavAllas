Rakennekuvaus

Biljardipelin toiminnan kannalta oleennaisin luokka on Peli-luokka. Se halinnoi muita luokkia ja koko pelin toimintaa ja kulkua. Peli on vastuussa pelin pyörittämisestä, sen säännöistä, vuoronjaosta, ajastamisesta ja käyttäjäsyötteiden hallinnasta. Peli on suorassa yhteydessä luokkiin Pelaaja, Lyonti ja Alusta, mutta ei Pallo-luokan olioihin. Pelaaja-luokasta luodaan peliin kaksi oliota. Pelaaja sisältää informaatiota pelin pelaajista, jota hyödynnetään pelin kulun määräämiseen. Sen sijaan Pelillä on vain yksi Lyonti-luokan olio kerrallaan, joka aina uusitaan pelaajan lyödessä. Luokka Lyonti kuvaa lyöntiä ja tallettaa tietoja pelaajan lyönnin jälkeisistä tapahtumista. Lyonti-luokka sisältää myös metodit, joiden avulla päätetään onko tapahtunut virhe (eli faul) pelaajan lyönnin seurauksena, ja tuleeko vaihtaa vuoro. Lisäksi luokkaa käytetään tallettamaan pelaajan valitsema lyönnin suunta ja lyöntivoima. Alusta-luokka ei ole tietoinen Lyonti-oliosta, vaan sen hallinta tapahtuu kokonaan Peli-luokasta.

Luokka Alusta sisältää pallot, ja suurimman osan palloihin liittyvistä metodeista. Peli-oliolla on siis olemassa vain yksi Alusta-olio, jota ohjataan Peli-luokasta. Alustan tärkeimpiä tehtäviä on pallojen generointi ja asettaminen ja pallojen liiketilojen laskeminen. Alusta tunnistaa myös törmäykset seiniin ja palloihin, sekä pallojen pussittumiset. Pelissä olevat pallot ovat Pallo-luokan olioita, joista jokaisella on oma paikka, nopeus ja numero. Pallo sisältää metodit, joilla liikutetaan pallo tämän hetkisestä paikasta nopeuden mukaiseen paikkaan. Pallo-luokalla on myös metodi, jolla hidastetaan pallon liikettä liikkeen suuntaisesti. Tämä hidastuminen on pallon, ja pöydän pinnan välisen kitkan seurausta. Pallo ei ole tietoinen Peli, Lyonti tai Alusta -luokista.

Lisäksi ohjelmassa on grafiikkaan liittyviä luokkia, ja luokka Vektori. Vektori-luokasta luodaan olioita tarpeen mukaan siellä, missä on hyödyllisintä laskea käyttäen vektoreita (kuten lyönnin suunta ja pallon jarruttaminen). Grafiikkaan liittyy keskimmäisenä luokka Kayttoliittyma, joka yhdistää ja kasaa grafiikan Peli-luokkaan. Lisäksi grafiikasta vastaa päivitettävä luokka Poyta, joka perii JPanel-luokan. Käytännössä Poyta on piirtoalusta, jonka tehtävä on piirtää biljardipöytä pohjalle, ja sen päälle pallot ja muut pelin grafiikat metodikutsulla. 

Käyttäjän syötteitä hallinnoi Hiirenkuuntelija ja Nappaimistonkuuntelija yhdessä Peli-luokan kanssa. Näiden toimintatapa riippuu Pelin pelitilanteesta. Hiiren osoittimen sijainti tallennetaan aina sen muuttuessa Peli-luokan olioon, mutta sillä on merkitystä vain kun sitä tarvitaan pelissä. Hiiren klikkaus aiheuttaa toimintaa vain jos ollaan asettamassa valkoista palloa pöydälle, valitsemassa lyönnin suuntaa tai nopeutta. Vastaavasti Nappaimistonkuuntelija ei aiheuta toimintaa ohjelmassa, ellei sitä kaivata. Pussin saa maalata koska tahansa näppäimillä 1-6. Näppäimet i ja p toimivat kun on lupa valita isot tai pienet pallot. Muissa tilanteissa näppäimillä ei ole vaikutusta.
